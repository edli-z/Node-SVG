const load = require("../../module/load")
const { createSVGWindow } = require('svgdom')
const { SVG, registerWindow, Svg } = require('@svgdotjs/svg.js')

const window = createSVGWindow()
const document = window.document

// register window and document
registerWindow(window, document)


test('load function', () => {

	const svgStr = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="936" height="504" viewBox="0 0 936 504"><g transform="translate(0 0)"><polygon id="polygon_0" transform="scale(4)" stroke-width="0.25" points="39.8,12.5 39.7,13.5 39.6,14.5 39.2,16.5 38.6,18.4 38.3,19.3 37.9,20.2 37.4,21.1 36.9,22.0 36.4,22.8 35.8,23.7 35.2,24.4 34.5,25.1 33.7,25.8 32.9,26.3 32.0,26.7 31.0,27.0 10.4,28.6 9.5,28.3 8.6,27.8 7.9,27.1 7.2,26.4 6.8,25.4 1.8,5.9 29.7,1.8 31.6,1.8 32.6,2.0 33.6,2.2 34.5,2.6 36.3,3.6 37.0,4.3 37.7,5.0 38.3,5.8 38.8,6.7 39.1,7.6 39.4,8.6 39.6,9.5 39.8,10.5 39.8,12.5"/></g><g transform="translate(312 0)"><polygon id="polygon_1" transform="scale(3)" stroke-width="0.3333333333333333" points="48.8,24.5 48.3,25.4 47.5,25.9 11.7,38.3 10.7,38.5 9.7,38.6 8.8,38.4 8.3,37.8 2.1,16.8 1.9,15.8 1.8,14.9 1.7,13.9 1.7,12.9 2.1,11.9 2.7,11.1 11.8,6.7 12.8,6.3 13.7,6.0 31.0,1.8 32.0,1.7 33.0,1.9 33.9,2.3 34.8,2.7 35.6,3.3 36.4,3.9 37.2,4.6 37.7,5.4 38.7,7.1 48.8,24.5"/></g><g transform="translate(624 0)"><polygon id="polygon_2" transform="scale(5)" stroke-width="0.2" points="29.3,12.4 28.4,12.9 11.1,22.5 10.2,22.9 9.2,23.0 8.2,22.8 7.3,22.4 6.5,21.9 5.8,21.2 5.4,20.3 1.8,6.0 21.7,1.9 22.6,2.4 23.2,3.1 29.3,12.4"/></g><g transform="translate(0 168)"><polygon id="polygon_3" transform="scale(5)" stroke-width="0.2" points="30.4,13.4 29.6,14.1 28.7,14.5 27.8,14.8 24.8,15.4 13.1,17.6 12.1,17.5 6.6,15.4 5.7,15.0 4.8,14.5 4.1,13.8 3.4,13.1 3.0,12.2 1.8,5.6 1.8,4.6 2.4,3.8 3.2,3.2 4.1,2.8 5.0,2.5 6.0,2.2 7.0,2.0 8.0,1.8 9.0,1.8 24.5,5.6 26.9,6.9 27.3,7.6 30.4,13.4"/></g><g transform="translate(312 168)"><polygon id="polygon_4" transform="scale(1)" stroke-width="1" points="138.0,50.1 135.3,51.3 133.4,51.9 132.4,52.2 130.5,52.7 82.7,63.3 80.7,63.8 78.8,64.3 76.9,64.8 74.0,65.6 72.0,66.1 70.1,66.6 68.2,67.1 67.2,67.4 65.3,67.9 63.3,68.4 62.4,68.7 60.4,69.2 57.5,70.0 55.6,70.5 53.7,71.0 52.7,71.3 50.8,71.8 48.9,72.3 47.9,72.6 46.0,73.1 43.1,73.9 41.1,74.4 40.2,74.7 39.2,75.0 37.3,75.5 35.4,81.5 3.9,85.8 2.9,85.8 1.9,85.7 2.4,85.1 3.2,84.5 4.9,83.5 5.8,83.0 6.2,33.1 5.8,31.1 5.4,29.2 5.2,28.2 5.1,27.2 4.9,25.2 4.8,24.2 4.8,23.2 4.8,21.2 5.0,19.2 5.3,18.2 5.6,17.3 6.0,16.4 6.7,15.7 7.6,15.1 8.5,14.7 9.4,14.4 11.4,14.0 12.4,13.8 13.4,13.7 15.4,13.7 16.4,13.7 17.4,13.8 33.8,13.6 66.3,1.7 111.4,11.3 113.3,11.9 115.1,12.8 137.1,26.9 138.0,50.1"/></g><g transform="translate(624 168)"><polygon id="polygon_5" transform="scale(1)" stroke-width="1" points="205.6,55.3 200.0,91.9 199.8,92.9 199.4,93.8 198.8,94.6 198.1,95.3 197.3,95.9 196.4,96.3 195.4,96.5 146.2,101.0 143.4,101.8 140.5,102.7 139.5,103.0 138.6,103.3 136.7,103.9 135.7,104.2 134.8,104.5 132.9,105.1 131.9,105.4 129.0,106.2 127.1,106.7 125.1,107.2 124.2,107.4 123.2,107.6 119.3,108.4 117.3,108.7 115.3,108.9 112.3,109.2 111.3,109.3 108.3,109.5 106.3,109.6 102.3,109.7 98.3,109.7 94.3,109.6 91.3,109.5 89.3,109.4 87.3,109.3 38.2,108.0 36.2,108.2 35.2,108.3 34.2,108.4 31.2,108.6 27.2,108.6 26.2,108.6 24.2,108.4 23.2,108.2 22.3,108.0 21.3,107.7 19.5,106.9 18.7,106.3 18.1,105.5 17.6,104.6 17.2,103.7 16.8,102.8 6.6,79.2 2.0,44.5 1.9,43.5 1.8,42.5 1.8,39.5 2.1,37.5 2.3,36.5 2.8,34.6 3.1,33.7 3.5,32.7 4.3,30.9 4.7,30.0 5.2,29.1 5.7,28.3 6.8,26.6 7.4,25.8 8.7,24.3 9.4,23.5 11.5,21.4 14.5,18.7 16.8,16.8 18.4,15.6 20.0,14.4 21.7,13.3 22.5,12.8 24.2,11.8 26.9,10.3 28.7,9.5 29.6,9.1 31.5,8.5 32.5,8.3 33.5,8.2 34.5,8.2 35.5,8.3 36.5,8.5 38.4,8.9 39.4,9.2 41.2,9.9 42.2,10.3 43.1,10.7 44.9,11.5 46.7,12.4 47.6,12.9 48.5,13.3 51.1,14.7 52.9,15.6 54.8,16.3 55.7,16.7 97.9,16.3 115.0,15.9 121.2,11.5 121.6,10.6 122.1,9.7 122.5,8.8 123.0,7.9 123.5,7.1 124.1,6.3 125.3,4.7 126.0,4.0 126.8,3.4 127.6,2.8 128.5,2.3 129.5,2.0 130.5,1.8 131.4,1.7 132.4,1.8 133.4,2.0 134.4,2.3 135.3,2.7 137.1,3.5 138.8,4.6 173.4,8.6 190.3,10.4 192.2,10.7 193.2,11.0 194.1,11.4 194.9,11.9 195.6,12.6 196.3,13.4 196.8,14.3 197.2,15.2 197.5,16.1 197.8,17.1 205.6,53.3 205.6,55.3"/></g></svg>'
	const { svg, svgRoot } = load(svgStr)

	expect(svg instanceof Svg).toBe(true)
	expect(svgRoot instanceof Svg).toBe(true)
});



